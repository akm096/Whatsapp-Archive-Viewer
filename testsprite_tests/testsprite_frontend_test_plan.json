[
  {
    "id": "TC001",
    "title": "Load a chat from direct link and render conversation layout",
    "description": "Verifies that opening the app with a chatId loads the chat and renders the WhatsApp-like conversation UI elements.",
    "category": "WhatsApp Chat Viewer",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /?chatId=valid-chat-id"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Chat layout\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Message list\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one message bubble\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one message timestamp\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one date separator\" is visible"
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Verify message alignment for incoming vs outgoing messages",
    "description": "Verifies that the conversation view visually distinguishes incoming and outgoing messages via alignment.",
    "category": "WhatsApp Chat Viewer",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /?chatId=valid-chat-id"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one incoming (left-aligned) message bubble\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one outgoing (right-aligned) message bubble\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Outgoing message bubble shows a timestamp\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Incoming message bubble shows a timestamp\" is visible"
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Verify read-receipt indicators appear for outgoing messages (when present)",
    "description": "Verifies that outgoing messages show a read-receipt indicator consistent with WhatsApp-like behavior when the data includes it.",
    "category": "WhatsApp Chat Viewer",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /?chatId=valid-chat-id-with-receipts"
      },
      {
        "type": "assertion",
        "description": "Verify element \"An outgoing message bubble\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Read-receipt indicator (check marks)\" is visible on an outgoing message"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one outgoing message shows a different receipt state than another (if available)\" is visible"
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Open app root without chatId and show Recent Chats list",
    "description": "Verifies that opening the root page without a chatId shows the landing page with Recent Chats.",
    "category": "WhatsApp Chat Viewer",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /"
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Recent chats list\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one chat row/item\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Open button\" is visible on a chat row/item"
      }
    ]
  },
  {
    "id": "TC005",
    "title": "From Recent Chats, click Open to load selected chat in viewer",
    "description": "Verifies that selecting a recent chat from the landing page navigates to the viewer and loads messages.",
    "category": "WhatsApp Chat Viewer",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /"
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible"
      },
      {
        "type": "action",
        "description": "Click on \"Open\" for the first chat in the Recent Chats list"
      },
      {
        "type": "assertion",
        "description": "Verify URL contains \"chatId=\""
      },
      {
        "type": "assertion",
        "description": "Verify element \"Chat layout\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one message bubble\" is visible"
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Handle missing or deleted chatId: show 'Chat not found' and return to landing page",
    "description": "Verifies that an invalid or missing chat record triggers a visible 'Chat not found' message and the UI falls back to Recent Chats.",
    "category": "WhatsApp Chat Viewer",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /?chatId=nonexistent-chat-id"
      },
      {
        "type": "assertion",
        "description": "Verify text \"Chat not found\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Recent chats list\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify URL does not contain \"chatId=nonexistent-chat-id\""
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Very large chat: initial UI renders without blocking and progressively shows messages on scroll",
    "description": "Verifies that a very large chat loads the viewer quickly and more messages appear as the user scrolls (virtualized/progressive rendering).",
    "category": "WhatsApp Chat Viewer",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /?chatId=very-large-chat-id"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Chat layout\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Message list\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"At least one message bubble\" is visible"
      },
      {
        "type": "action",
        "description": "Scroll to the bottom of the message list"
      },
      {
        "type": "action",
        "description": "Wait for element \"Newly rendered message bubble\" to appear"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Newly rendered message bubble\" is visible"
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Open image in lightbox from an image thumbnail",
    "description": "Verifies that clicking an image thumbnail opens a full-screen lightbox with the image visible.",
    "category": "Media Handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app's main page where a chat with an image attachment is already loaded in the viewer."
      },
      {
        "type": "assertion",
        "description": "Verify an image message shows a visible image thumbnail in the chat viewer."
      },
      {
        "type": "action",
        "description": "Click the image thumbnail."
      },
      {
        "type": "assertion",
        "description": "Verify element \"Lightbox\" (full-screen image viewer modal) is visible."
      },
      {
        "type": "assertion",
        "description": "Verify element \"Lightbox image\" is visible."
      },
      {
        "type": "action",
        "description": "Click the \"Close\" button in the lightbox."
      },
      {
        "type": "assertion",
        "description": "Verify the lightbox modal is not visible."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Close image lightbox using Escape key",
    "description": "Verifies that the image lightbox can be dismissed via the Escape key.",
    "category": "Media Handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app's main page where a chat with an image attachment is already loaded in the viewer."
      },
      {
        "type": "assertion",
        "description": "Verify an image message shows a visible image thumbnail in the chat viewer."
      },
      {
        "type": "action",
        "description": "Click the image thumbnail."
      },
      {
        "type": "assertion",
        "description": "Verify element \"Lightbox\" (full-screen image viewer modal) is visible."
      },
      {
        "type": "action",
        "description": "Press \"Escape\"."
      },
      {
        "type": "assertion",
        "description": "Verify the lightbox modal is not visible."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "IndexedDB-loaded chat after reload shows missing media and re-import guidance on preview attempt",
    "description": "Verifies that when media blobs are unavailable after reload, clicking an image preview shows a re-import toast and the attachment indicates missing media.",
    "category": "Media Handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app's main page in a state where the chat is loaded from IndexedDB after a page reload without re-importing media."
      },
      {
        "type": "assertion",
        "description": "Verify an image attachment appears in the chat viewer."
      },
      {
        "type": "assertion",
        "description": "Verify the attachment shows a visible \"Missing file\" indicator on the message/attachment card."
      },
      {
        "type": "action",
        "description": "Click the image thumbnail."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Re-import media for full preview\" is visible in a toast or notification area."
      },
      {
        "type": "assertion",
        "description": "Verify the lightbox modal is not visible."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Import mismatch produces Missing file state on attachment card",
    "description": "Verifies that when a message references an attachment not present in the import, the UI shows a Missing file state on the attachment card.",
    "category": "Media Handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app's main page where a chat is loaded that contains an attachment reference known to be absent from the current import."
      },
      {
        "type": "assertion",
        "description": "Verify an attachment card for that message is visible in the chat viewer."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Missing file\" is visible on the attachment card."
      },
      {
        "type": "assertion",
        "description": "Verify element \"Download\" button on the attachment card is visible."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Search for a common word shows match count, highlights matches, and jumps to first match",
    "description": "Verifies that entering a query performs a case-insensitive search, displays a match count, highlights results, and scrolls to the first match.",
    "category": "Search Functionality",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app home page"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Search\" (search icon or search input entry point) is visible"
      },
      {
        "type": "action",
        "description": "Click on \"Search\""
      },
      {
        "type": "action",
        "description": "Type \"hello\" into the search input field"
      },
      {
        "type": "assertion",
        "description": "Verify text \"matches\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify text \"1\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"highlighted match\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"current match indicator\" (active match) is visible"
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Case-insensitive search returns matches regardless of query casing",
    "description": "Verifies that search is case-insensitive by returning results for an uppercased query.",
    "category": "Search Functionality",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app home page"
      },
      {
        "type": "action",
        "description": "Click on \"Search\""
      },
      {
        "type": "action",
        "description": "Type \"HELLO\" into the search input field"
      },
      {
        "type": "assertion",
        "description": "Verify text \"matches\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"highlighted match\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"current match indicator\" (active match) is visible"
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Next navigation moves to the next match and updates the active highlight",
    "description": "Verifies that clicking Next advances to the next match, scrolls the list, and updates the active match indicator.",
    "category": "Search Functionality",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app home page"
      },
      {
        "type": "action",
        "description": "Click on \"Search\""
      },
      {
        "type": "action",
        "description": "Type \"hello\" into the search input field"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Next match\" button is visible"
      },
      {
        "type": "action",
        "description": "Click on \"Next match\""
      },
      {
        "type": "assertion",
        "description": "Verify element \"current match indicator\" (active match) is visible"
      },
      {
        "type": "action",
        "description": "Click on \"Next match\""
      },
      {
        "type": "assertion",
        "description": "Verify element \"current match indicator\" (active match) is visible"
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Previous navigation moves to the previous match and updates the active highlight",
    "description": "Verifies that clicking Previous moves to the previous match, scrolls accordingly, and updates the active match indicator.",
    "category": "Search Functionality",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app home page"
      },
      {
        "type": "action",
        "description": "Click on \"Search\""
      },
      {
        "type": "action",
        "description": "Type \"hello\" into the search input field"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Next match\" button is visible"
      },
      {
        "type": "action",
        "description": "Click on \"Next match\""
      },
      {
        "type": "assertion",
        "description": "Verify element \"Previous match\" button is visible"
      },
      {
        "type": "action",
        "description": "Click on \"Previous match\""
      },
      {
        "type": "assertion",
        "description": "Verify element \"current match indicator\" (active match) is visible"
      }
    ]
  },
  {
    "id": "TC016",
    "title": "Clearing the search removes highlights and resets match count display",
    "description": "Verifies that clearing the query removes match highlighting and resets the visible match count state.",
    "category": "Search Functionality",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app home page"
      },
      {
        "type": "action",
        "description": "Click on \"Search\""
      },
      {
        "type": "action",
        "description": "Type \"hello\" into the search input field"
      },
      {
        "type": "assertion",
        "description": "Verify element \"highlighted match\" is visible"
      },
      {
        "type": "action",
        "description": "Press \"Escape\""
      },
      {
        "type": "assertion",
        "description": "Verify text \"matches\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"highlighted match\" is not visible"
      }
    ]
  },
  {
    "id": "TC017",
    "title": "Broad query shows progress/spinner and UI remains responsive until results appear",
    "description": "Verifies that searching with a very broad query shows a spinner/progress indicator and completes without freezing the UI.",
    "category": "Search Functionality",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app home page"
      },
      {
        "type": "action",
        "description": "Click on \"Search\""
      },
      {
        "type": "action",
        "description": "Type \"a\" into the search input field"
      },
      {
        "type": "assertion",
        "description": "Verify element \"search progress\" (spinner or progress indicator) is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"Search\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify text \"matches\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"search progress\" (spinner or progress indicator) is not visible"
      }
    ]
  },
  {
    "id": "TC018",
    "title": "Rapidly changing the query updates match count to reflect the latest input",
    "description": "Verifies that debounced/throttled searching ultimately reflects the latest query entered, not an earlier one.",
    "category": "Search Functionality",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the app home page"
      },
      {
        "type": "action",
        "description": "Click on \"Search\""
      },
      {
        "type": "action",
        "description": "Type \"h\" into the search input field"
      },
      {
        "type": "action",
        "description": "Type \"he\" into the search input field"
      },
      {
        "type": "action",
        "description": "Type \"hello\" into the search input field"
      },
      {
        "type": "assertion",
        "description": "Verify text \"matches\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"highlighted match\" is visible"
      },
      {
        "type": "assertion",
        "description": "Verify element \"current match indicator\" (active match) is visible"
      }
    ]
  },
  {
    "id": "TC019",
    "title": "Landing page lists recent chats on app load",
    "description": "Verifies that recent chats are loaded from persistence and displayed on initial app load.",
    "category": "State Management & Persistence",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the application home page."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible."
      },
      {
        "type": "assertion",
        "description": "Verify the Recent Chats list element is visible."
      },
      {
        "type": "assertion",
        "description": "Verify the Recent Chats section shows at least one chat entry."
      },
      {
        "type": "action",
        "description": "Scroll to the bottom of the Recent Chats list."
      },
      {
        "type": "assertion",
        "description": "Verify at least one chat entry is still visible after scrolling."
      }
    ]
  },
  {
    "id": "TC020",
    "title": "Delete a recent chat and confirm it is removed with toast",
    "description": "Verifies that deleting a chat removes it from UI state and shows a confirmation toast.",
    "category": "State Management & Persistence",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the application home page."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible."
      },
      {
        "type": "assertion",
        "description": "Verify at least one chat entry in Recent Chats is visible."
      },
      {
        "type": "action",
        "description": "Click on the first chat entry's \"Delete\" button in Recent Chats."
      },
      {
        "type": "action",
        "description": "Click on the \"Confirm\" button in the delete confirmation dialog."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Chat deleted\" is visible."
      },
      {
        "type": "assertion",
        "description": "Verify the deleted chat entry is no longer visible in the Recent Chats list."
      }
    ]
  },
  {
    "id": "TC021",
    "title": "Cancel deleting a recent chat keeps it in the list",
    "description": "Verifies that canceling a delete action does not remove the chat from state or UI.",
    "category": "State Management & Persistence",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the application home page."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible."
      },
      {
        "type": "assertion",
        "description": "Verify at least one chat entry in Recent Chats is visible."
      },
      {
        "type": "action",
        "description": "Click on the first chat entry's \"Delete\" button in Recent Chats."
      },
      {
        "type": "action",
        "description": "Click on the \"Cancel\" button in the delete confirmation dialog."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Chat deleted\" is not visible."
      },
      {
        "type": "assertion",
        "description": "Verify the same chat entry is still visible in the Recent Chats list."
      }
    ]
  },
  {
    "id": "TC022",
    "title": "Import a chat and verify it appears in Recent Chats after save completes",
    "description": "Verifies that a newly imported chat is persisted and added to Recent Chats in the UI.",
    "category": "State Management & Persistence",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the application home page."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Import\" is visible."
      },
      {
        "type": "action",
        "description": "Click on the \"Import\" button on the landing page."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Import WhatsApp Chat\" is visible."
      },
      {
        "type": "action",
        "description": "Click on the \"Use sample chat\" option."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Import complete\" is visible."
      },
      {
        "type": "action",
        "description": "Click on the \"Back to Home\" button."
      },
      {
        "type": "assertion",
        "description": "Verify the Recent Chats list shows a new chat entry for the imported chat."
      }
    ]
  },
  {
    "id": "TC023",
    "title": "Re-import workflow is available from a recent chat entry",
    "description": "Verifies that the UI exposes a re-import action for an existing recent chat to restore/attach media again.",
    "category": "State Management & Persistence",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the application home page."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible."
      },
      {
        "type": "assertion",
        "description": "Verify at least one chat entry in Recent Chats is visible."
      },
      {
        "type": "action",
        "description": "Click on the first chat entry's \"Re-import\" button."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Re-import media\" is visible."
      },
      {
        "type": "action",
        "description": "Click on the \"Cancel\" button."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible."
      }
    ]
  },
  {
    "id": "TC024",
    "title": "Deleting the only recent chat shows the empty state",
    "description": "Verifies that when the last chat is deleted, the landing page transitions to an empty state correctly.",
    "category": "State Management & Persistence",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the application home page."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Recent Chats\" is visible."
      },
      {
        "type": "action",
        "description": "If more than one chat entry is visible, click \"Delete\" on chat entries and confirm until only one chat entry remains visible."
      },
      {
        "type": "assertion",
        "description": "Verify exactly one chat entry is visible in the Recent Chats list."
      },
      {
        "type": "action",
        "description": "Click on the remaining chat entry's \"Delete\" button."
      },
      {
        "type": "action",
        "description": "Click on the \"Confirm\" button in the delete confirmation dialog."
      },
      {
        "type": "assertion",
        "description": "Verify text \"Chat deleted\" is visible."
      },
      {
        "type": "assertion",
        "description": "Verify a visible empty-state message for Recent Chats is shown (for example, \"No recent chats\")."
      }
    ]
  }
]
